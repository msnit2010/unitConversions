{"ast":null,"code":"import React,{useState,useEffect}from'react';import{categories}from'../../data/categories';import ConversionDetails from'./ConversionDetails';import CommonConversions from'./CommonConversions';import{Box,TextField,MenuItem,IconButton,Button,Paper,Typography,useTheme,useMediaQuery,InputAdornment,Tooltip,Alert,Collapse,Grid,FormControl,InputLabel,Select,CircularProgress}from'@mui/material';import{useLanguage}from'../../contexts/LanguageContext';import{useNavigate,useLocation}from'react-router-dom';import{SwapVertIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.NODE_ENV==='production'?'/api'// In production, use relative path\n:'http://localhost:5001/api';// In development, use port 5001\nconst ConverterForm=_ref=>{let{category,onFormulaUpdate}=_ref;const{t}=useLanguage();const theme=useTheme();const navigate=useNavigate();const location=useLocation();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));const[fromValue,setFromValue]=useState('');const[toValue,setToValue]=useState('');const[fromUnit,setFromUnit]=useState('');const[toUnit,setToUnit]=useState('');const[error,setError]=useState('');const[conversionResult,setConversionResult]=useState(null);const[loading,setLoading]=useState(false);const categoryData=categories.find(cat=>cat.id===category);const availableUnits=(categoryData===null||categoryData===void 0?void 0:categoryData.commonUnits)||[];useEffect(()=>{var _location$state,_location$state2;// Handle navigation state for common conversions\nif((_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.fromUnit&&(_location$state2=location.state)!==null&&_location$state2!==void 0&&_location$state2.toUnit){setFromUnit(location.state.fromUnit);setToUnit(location.state.toUnit);// Clear the navigation state\nnavigate(location.pathname,{replace:true});}// If no state, set default units\nelse if(availableUnits.length>0&&!fromUnit&&!toUnit){setFromUnit(availableUnits[0]);setToUnit(availableUnits[1]);}},[availableUnits,location.state,navigate,location.pathname]);const handleConvert=async()=>{if(!fromValue||!fromUnit||!toUnit)return;setError('');setLoading(true);try{const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),5000);// 5 second timeout\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/convert?category=\").concat(category,\"&fromUnit=\").concat(fromUnit,\"&toUnit=\").concat(toUnit,\"&value=\").concat(fromValue),{signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||t('errors.conversionFailed'));}const data=await response.json();if(!data||typeof data.result==='undefined'){throw new Error(t('errors.invalidResponse'));}const resultValue=parseFloat(data.result);if(isNaN(resultValue)){throw new Error(t('errors.invalidNumber'));}setToValue(resultValue.toString());// Format the conversion result with proper units and validation\nconst formattedResult={from:{unit:fromUnit,value:parseFloat(fromValue),formatted:\"\".concat(fromValue,\" \").concat(fromUnit)},to:{unit:toUnit,value:resultValue,formatted:\"\".concat(resultValue,\" \").concat(toUnit)},formula:data.formula||undefined,steps:Array.isArray(data.steps)?data.steps:undefined};setConversionResult(formattedResult);if(onFormulaUpdate&&data.formula){onFormulaUpdate(data.formula);}setError('');}catch(err){console.error('Conversion error:',err);if(err.name==='AbortError'){setError(t('errors.timeout'));}else if(!navigator.onLine){setError(t('errors.offline'));}else{setError(err.message||t('errors.networkError'));}setToValue('');setConversionResult(null);}finally{setLoading(false);}};useEffect(()=>{if(fromValue&&fromUnit&&toUnit){handleConvert();}},[fromValue,fromUnit,toUnit]);const handleSubmit=e=>{e.preventDefault();setError('');if(!fromValue.trim()){setError(t('errors.required'));return;}if(isNaN(fromValue)){setError(t('errors.invalidNumber'));return;}handleConvert();};const handleSwapUnits=()=>{const oldFromValue=fromValue;const oldToValue=toValue;setFromUnit(toUnit);setToUnit(fromUnit);setFromValue(oldToValue);setToValue(oldFromValue);};const handleCommonConversionSelect=conversion=>{if(conversion.category!==category){// If the conversion is from a different category, navigate to that category\nnavigate(\"/convert/\".concat(conversion.category),{state:{fromUnit:conversion.from,toUnit:conversion.to}});return;}// If it's the same category, just update the units\nsetFromUnit(conversion.from);setToUnit(conversion.to);};return/*#__PURE__*/_jsxs(Box,{sx:{width:'100%'},children:[/*#__PURE__*/_jsx(Paper,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:2,border:\"1px solid \".concat(theme.palette.divider),'@media (max-width: 600px)':{border:'none',p:0}},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:{xs:2,sm:3},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:t('converter.value'),value:fromValue,onChange:e=>setFromValue(e.target.value),error:!!error,helperText:error,type:\"number\",inputProps:{inputMode:'decimal',pattern:'[0-9]*',step:'any'},sx:{'& .MuiInputBase-input':{fontSize:{xs:'1.1rem',sm:'1rem'},py:{xs:1.5,sm:1}}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:t('converter.fromUnit')}),/*#__PURE__*/_jsx(Select,{value:fromUnit,onChange:e=>setFromUnit(e.target.value),label:t('converter.fromUnit'),sx:{'& .MuiSelect-select':{py:{xs:1.5,sm:1}}},children:availableUnits.map(unit=>/*#__PURE__*/_jsx(MenuItem,{value:unit,children:t(\"units.\".concat(unit))},unit))})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sx:{display:'flex',justifyContent:'center',py:{xs:1,sm:0}},children:/*#__PURE__*/_jsx(IconButton,{onClick:handleSwapUnits,sx:{p:1,border:\"1px solid \".concat(theme.palette.divider),borderRadius:'50%','&:active':{backgroundColor:theme.palette.action.selected}},children:/*#__PURE__*/_jsx(SwapVertIcon,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:t('converter.toUnit')}),/*#__PURE__*/_jsx(Select,{value:toUnit,onChange:e=>setToUnit(e.target.value),label:t('converter.toUnit'),sx:{'& .MuiSelect-select':{py:{xs:1.5,sm:1}}},children:availableUnits.map(unit=>/*#__PURE__*/_jsx(MenuItem,{value:unit,children:t(\"units.\".concat(unit))},unit))})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",onClick:handleConvert,disabled:loading||!!error,sx:{py:{xs:1.5,sm:1},fontSize:{xs:'1.1rem',sm:'1rem'},borderRadius:{xs:2,sm:1},textTransform:'none','&:active':{transform:'scale(0.98)'}},children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24,color:\"inherit\"}):t('converter.convert')})})]})}),conversionResult&&/*#__PURE__*/_jsx(ConversionDetails,{result:conversionResult,sx:{mt:{xs:2,sm:3},'@media (max-width: 600px)':{mx:-2}}}),/*#__PURE__*/_jsx(CommonConversions,{onSelect:handleCommonConversionSelect,sx:{mt:{xs:3,sm:4},'@media (max-width: 600px)':{mx:-2}}})]});};export default ConverterForm;","map":{"version":3,"names":["React","useState","useEffect","categories","ConversionDetails","CommonConversions","Box","TextField","MenuItem","IconButton","Button","Paper","Typography","useTheme","useMediaQuery","InputAdornment","Tooltip","Alert","Collapse","Grid","FormControl","InputLabel","Select","CircularProgress","useLanguage","useNavigate","useLocation","SwapVertIcon","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","NODE_ENV","ConverterForm","_ref","category","onFormulaUpdate","t","theme","navigate","location","isMobile","breakpoints","down","fromValue","setFromValue","toValue","setToValue","fromUnit","setFromUnit","toUnit","setToUnit","error","setError","conversionResult","setConversionResult","loading","setLoading","categoryData","find","cat","id","availableUnits","commonUnits","_location$state","_location$state2","state","pathname","replace","length","handleConvert","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","concat","signal","clearTimeout","ok","errorData","json","Error","data","result","resultValue","parseFloat","isNaN","toString","formattedResult","from","unit","value","formatted","to","formula","undefined","steps","Array","isArray","err","console","name","navigator","onLine","message","handleSubmit","e","preventDefault","trim","handleSwapUnits","oldFromValue","oldToValue","handleCommonConversionSelect","conversion","sx","width","children","elevation","p","xs","sm","borderRadius","border","palette","divider","container","spacing","alignItems","item","fullWidth","label","onChange","target","helperText","type","inputProps","inputMode","pattern","step","fontSize","py","map","display","justifyContent","onClick","backgroundColor","action","selected","variant","disabled","textTransform","transform","size","color","mt","mx","onSelect"],"sources":["/home/sifann/workspace/src/components/converter/ConverterForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { categories } from '../../data/categories';\r\nimport ConversionDetails from './ConversionDetails';\r\nimport CommonConversions from './CommonConversions';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  MenuItem,\r\n  IconButton,\r\n  Button,\r\n  Paper,\r\n  Typography,\r\n  useTheme,\r\n  useMediaQuery,\r\n  InputAdornment,\r\n  Tooltip,\r\n  Alert,\r\n  Collapse,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { SwapVertIcon } from '@mui/icons-material';\r\n\r\nconst API_BASE_URL = process.env.NODE_ENV === 'production'\r\n  ? '/api'  // In production, use relative path\r\n  : 'http://localhost:5001/api';  // In development, use port 5001\r\n\r\nconst ConverterForm = ({ category, onFormulaUpdate }) => {\r\n  const { t } = useLanguage();\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n  \r\n  const [fromValue, setFromValue] = useState('');\r\n  const [toValue, setToValue] = useState('');\r\n  const [fromUnit, setFromUnit] = useState('');\r\n  const [toUnit, setToUnit] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [conversionResult, setConversionResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const categoryData = categories.find(cat => cat.id === category);\r\n  const availableUnits = categoryData?.commonUnits || [];\r\n\r\n  useEffect(() => {\r\n    // Handle navigation state for common conversions\r\n    if (location.state?.fromUnit && location.state?.toUnit) {\r\n      setFromUnit(location.state.fromUnit);\r\n      setToUnit(location.state.toUnit);\r\n      // Clear the navigation state\r\n      navigate(location.pathname, { replace: true });\r\n    }\r\n    // If no state, set default units\r\n    else if (availableUnits.length > 0 && !fromUnit && !toUnit) {\r\n      setFromUnit(availableUnits[0]);\r\n      setToUnit(availableUnits[1]);\r\n    }\r\n  }, [availableUnits, location.state, navigate, location.pathname]);\r\n\r\n  const handleConvert = async () => {\r\n    if (!fromValue || !fromUnit || !toUnit) return;\r\n\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout\r\n\r\n      const response = await fetch(\r\n        `${API_BASE_URL}/convert?category=${category}&fromUnit=${fromUnit}&toUnit=${toUnit}&value=${fromValue}`,\r\n        { signal: controller.signal }\r\n      );\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || t('errors.conversionFailed'));\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (!data || typeof data.result === 'undefined') {\r\n        throw new Error(t('errors.invalidResponse'));\r\n      }\r\n\r\n      const resultValue = parseFloat(data.result);\r\n      if (isNaN(resultValue)) {\r\n        throw new Error(t('errors.invalidNumber'));\r\n      }\r\n\r\n      setToValue(resultValue.toString());\r\n      \r\n      // Format the conversion result with proper units and validation\r\n      const formattedResult = {\r\n        from: {\r\n          unit: fromUnit,\r\n          value: parseFloat(fromValue),\r\n          formatted: `${fromValue} ${fromUnit}`\r\n        },\r\n        to: {\r\n          unit: toUnit,\r\n          value: resultValue,\r\n          formatted: `${resultValue} ${toUnit}`\r\n        },\r\n        formula: data.formula || undefined,\r\n        steps: Array.isArray(data.steps) ? data.steps : undefined\r\n      };\r\n      \r\n      setConversionResult(formattedResult);\r\n      if (onFormulaUpdate && data.formula) {\r\n        onFormulaUpdate(data.formula);\r\n      }\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Conversion error:', err);\r\n      if (err.name === 'AbortError') {\r\n        setError(t('errors.timeout'));\r\n      } else if (!navigator.onLine) {\r\n        setError(t('errors.offline'));\r\n      } else {\r\n        setError(err.message || t('errors.networkError'));\r\n      }\r\n      setToValue('');\r\n      setConversionResult(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fromValue && fromUnit && toUnit) {\r\n      handleConvert();\r\n    }\r\n  }, [fromValue, fromUnit, toUnit]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (!fromValue.trim()) {\r\n      setError(t('errors.required'));\r\n      return;\r\n    }\r\n\r\n    if (isNaN(fromValue)) {\r\n      setError(t('errors.invalidNumber'));\r\n      return;\r\n    }\r\n\r\n    handleConvert();\r\n  };\r\n\r\n  const handleSwapUnits = () => {\r\n    const oldFromValue = fromValue;\r\n    const oldToValue = toValue;\r\n    setFromUnit(toUnit);\r\n    setToUnit(fromUnit);\r\n    setFromValue(oldToValue);\r\n    setToValue(oldFromValue);\r\n  };\r\n\r\n  const handleCommonConversionSelect = (conversion) => {\r\n    if (conversion.category !== category) {\r\n      // If the conversion is from a different category, navigate to that category\r\n      navigate(`/convert/${conversion.category}`, { \r\n        state: { \r\n          fromUnit: conversion.from,\r\n          toUnit: conversion.to\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    \r\n    // If it's the same category, just update the units\r\n    setFromUnit(conversion.from);\r\n    setToUnit(conversion.to);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper\r\n        elevation={0}\r\n        sx={{\r\n          p: { xs: 2, sm: 3 },\r\n          borderRadius: 2,\r\n          border: `1px solid ${theme.palette.divider}`,\r\n          '@media (max-width: 600px)': {\r\n            border: 'none',\r\n            p: 0\r\n          }\r\n        }}\r\n      >\r\n        <Grid container spacing={{ xs: 2, sm: 3 }} alignItems=\"center\">\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              fullWidth\r\n              label={t('converter.value')}\r\n              value={fromValue}\r\n              onChange={(e) => setFromValue(e.target.value)}\r\n              error={!!error}\r\n              helperText={error}\r\n              type=\"number\"\r\n              inputProps={{\r\n                inputMode: 'decimal',\r\n                pattern: '[0-9]*',\r\n                step: 'any'\r\n              }}\r\n              sx={{\r\n                '& .MuiInputBase-input': {\r\n                  fontSize: { xs: '1.1rem', sm: '1rem' },\r\n                  py: { xs: 1.5, sm: 1 }\r\n                }\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>{t('converter.fromUnit')}</InputLabel>\r\n              <Select\r\n                value={fromUnit}\r\n                onChange={(e) => setFromUnit(e.target.value)}\r\n                label={t('converter.fromUnit')}\r\n                sx={{\r\n                  '& .MuiSelect-select': {\r\n                    py: { xs: 1.5, sm: 1 }\r\n                  }\r\n                }}\r\n              >\r\n                {availableUnits.map((unit) => (\r\n                  <MenuItem key={unit} value={unit}>\r\n                    {t(`units.${unit}`)}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid \r\n            item \r\n            xs={12} \r\n            sx={{ \r\n              display: 'flex', \r\n              justifyContent: 'center',\r\n              py: { xs: 1, sm: 0 }\r\n            }}\r\n          >\r\n            <IconButton\r\n              onClick={handleSwapUnits}\r\n              sx={{\r\n                p: 1,\r\n                border: `1px solid ${theme.palette.divider}`,\r\n                borderRadius: '50%',\r\n                '&:active': {\r\n                  backgroundColor: theme.palette.action.selected\r\n                }\r\n              }}\r\n            >\r\n              <SwapVertIcon />\r\n            </IconButton>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>{t('converter.toUnit')}</InputLabel>\r\n              <Select\r\n                value={toUnit}\r\n                onChange={(e) => setToUnit(e.target.value)}\r\n                label={t('converter.toUnit')}\r\n                sx={{\r\n                  '& .MuiSelect-select': {\r\n                    py: { xs: 1.5, sm: 1 }\r\n                  }\r\n                }}\r\n              >\r\n                {availableUnits.map((unit) => (\r\n                  <MenuItem key={unit} value={unit}>\r\n                    {t(`units.${unit}`)}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"contained\"\r\n              onClick={handleConvert}\r\n              disabled={loading || !!error}\r\n              sx={{\r\n                py: { xs: 1.5, sm: 1 },\r\n                fontSize: { xs: '1.1rem', sm: '1rem' },\r\n                borderRadius: { xs: 2, sm: 1 },\r\n                textTransform: 'none',\r\n                '&:active': {\r\n                  transform: 'scale(0.98)'\r\n                }\r\n              }}\r\n            >\r\n              {loading ? (\r\n                <CircularProgress size={24} color=\"inherit\" />\r\n              ) : (\r\n                t('converter.convert')\r\n              )}\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n      \r\n      {conversionResult && (\r\n        <ConversionDetails \r\n          result={conversionResult} \r\n          sx={{ \r\n            mt: { xs: 2, sm: 3 },\r\n            '@media (max-width: 600px)': {\r\n              mx: -2\r\n            }\r\n          }} \r\n        />\r\n      )}\r\n      \r\n      <CommonConversions\r\n        onSelect={handleCommonConversionSelect}\r\n        sx={{ \r\n          mt: { xs: 3, sm: 4 },\r\n          '@media (max-width: 600px)': {\r\n            mx: -2\r\n          }\r\n        }}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ConverterForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}